<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        // const s = new Set()
        // [2,3,6,1,6].foreach(x => s.add(x))


        //Map
        // 由于map()方法定义在JavaScript的Array中，我们调用Array的map()方法，传入我们自己的函数，就得到了一个新的Array作为结果
        function pow(x){
            return x*x
        }
        var arr = [1,3,5,7,8]
        var results = arr.map(pow)  // [1, 4, 9, 16, 25, 36, 49, 64, 81]
        //  map()传入的参数是pow，即函数对象本身。

        var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];
        arr.map(String) //['1', '2', '3', '4', '5', '6', '7', '8', '9']


        //Reduce
        // Array的reduce()把一个函数作用在这个Array的[x1, x2, x3...]上，这个函数必须接收两个参数，reduce()把结果继续和序列的下一个元素做累积计算，其效果就是：
        // [x1, x2, x3, x4].reduce(f) = f(f(f(x1, x2), x3), x4)

        var arr = [1,3,6,7]
        arr.reduce(function(x,y){
            return x*y
        })

        // 要把[1, 3, 5, 7, 9]变换成整数13579，reduce()也能派上用场：
        var arr = [1,3,5,7,9]
        arr.reduce(function(x,y){
            return x*10 + y
        })

        //Filter
        var arr = ['A', '', 'B', null, undefined, 'C', '  '];
        var r = arr.filter(x => x && x.trim())  // 'A','B','C'
        console.log('r', r)

        //filter()接收的回调函数，其实可以有多个参数。通常我们仅使用第一个参数，表示Array的某个元素。回调函数还可以接收另外两个参数，表示元素的位置和数组本身
        var arr = ['A', 'B', 'C'];
        var r = arr.filter(function (element, index, self) {
            console.log(element); // 依次打印'A', 'B', 'C'
            console.log(index); // 依次打印0, 1, 2
            console.log(self); // self就是变量arr
            return true;
        });

        //删除数组中重复元素
        var r,
        arr = ['apple', 'strawberry', 'banana', 'pear', 'apple', 'orange', 'orange', 'strawberry'];

        r = arr.filter((x,index,self) => self.indexOf(x) === index)
        console.log('r',r)

        //Sort
        // js中sort的默认排序是先转换成String再排序，不过sort也是个高阶函数，可以自定义
        // sort()方法会直接对Array进行修改，它返回的结果仍是当前Array
        // 通常规定，对于两个元素x和y，如果认为x < y，则返回-1，如果认为x == y，则返回0，如果认为x > y，则返回1，这样，排序算法就不用关心具体的比较过程，而是根据比较结果直接排序。
    
        
        // every()方法可以判断数组的所有元素是否满足测试条件。

        // find()方法用于查找符合条件的第一个元素，如果找到了，返回这个元素，否则，返回undefined

        // findIndex()和find()类似，也是查找符合条件的第一个元素，不同之处在于findIndex()会返回这个元素的索引，如果没有找到，返回-1：

        // forEach()和map()类似，它也把每个元素依次作用于传入的函数，但不会返回新的数组。forEach()常用于遍历数组，因此，传入的函数不需要返回值：
        var arr = ['add', 'dfdf', 'qwg']
        arr.forEach(console.log)
    </script>
</body>
</html>